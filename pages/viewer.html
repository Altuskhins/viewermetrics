<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viewer Metrics - Following</title>
    <link rel="stylesheet" href="viewer.css">
</head>

<body>
    <div class="tvm-viewer-container">
        <header class="tvm-viewer-header">
            <div class="tvm-header-content">
                <h1 id="tvm-viewer-title">Loading...</h1>
                <div class="tvm-header-actions">
                    <button id="tvm-close-btn" class="tvm-btn tvm-btn-secondary">Close Tab</button>
                </div>
            </div>
        </header>

        <main class="tvm-viewer-main">
            <!-- User Profile Section -->
            <section class="tvm-profile-section">
                <div class="tvm-profile-card">
                    <div class="tvm-profile-avatar">
                        <img id="tvm-profile-image" src="" alt="Profile" class="tvm-avatar-large">
                    </div>
                    <div class="tvm-profile-info">
                        <h2 id="tvm-profile-username">Loading...</h2>
                        <div class="tvm-profile-stats">
                            <div class="tvm-stat-item">
                                <span class="tvm-stat-label">User ID</span>
                                <span id="tvm-stat-id" class="tvm-stat-value">-</span>
                            </div>
                            <div class="tvm-stat-item">
                                <span class="tvm-stat-label">Account Created</span>
                                <span id="tvm-stat-created" class="tvm-stat-value">-</span>
                            </div>
                            <div class="tvm-stat-item">
                                <span class="tvm-stat-label">First Seen</span>
                                <span id="tvm-stat-first-seen" class="tvm-stat-value">-</span>
                            </div>
                            <div class="tvm-stat-item">
                                <span class="tvm-stat-label">Last Seen</span>
                                <span id="tvm-stat-last-seen" class="tvm-stat-value">-</span>
                            </div>
                            <div class="tvm-stat-item">
                                <span class="tvm-stat-label">Time in Stream</span>
                                <span id="tvm-stat-time-stream" class="tvm-stat-value">-</span>
                            </div>
                            <div class="tvm-stat-item">
                                <span class="tvm-stat-label">Following Count</span>
                                <span id="tvm-stat-following-count" class="tvm-stat-value">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="tvm-profile-description" class="tvm-profile-description" style="display: none;">
                    <h3>Description</h3>
                    <p id="tvm-description-text"></p>
                </div>
            </section>

            <!-- Following List Section -->
            <section class="tvm-following-section">
                <div class="tvm-following-header">
                    <h2>Following List</h2>
                    <div class="tvm-following-controls">
                        <input type="text" id="tvm-search" placeholder="Search following..." class="tvm-search-input">
                        <select id="tvm-sort" class="tvm-sort-select">
                            <option value="followedAt">Sort by Follow Date (Newest)</option>
                            <option value="followedAt-asc">Sort by Follow Date (Oldest)</option>
                            <option value="live-username">Sort by Live + Username (A-Z)</option>
                            <option value="login">Sort by Username (A-Z)</option>
                            <option value="login-desc">Sort by Username (Z-A)</option>
                        </select>
                    </div>
                </div>

                <div id="tvm-loading" class="tvm-loading-container">
                    <div class="tvm-loading-spinner"></div>
                    <p id="tvm-loading-text">Loading <span id="tvm-loading-username">username</span> follow list...</p>
                </div>

                <div id="tvm-error" class="tvm-error-container" style="display: none;">
                    <p id="tvm-error-text">Failed to load following data</p>
                </div>

                <div class="tvm-following-grid-container">
                    <div id="tvm-following-grid" class="tvm-following-grid" style="display: none;">
                        <!-- Following items will be populated here -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="viewer.js"></script>
</body>

</html>